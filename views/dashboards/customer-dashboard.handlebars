<main>
    <div id="user-data" data-user='{{{json user}}}'></div>

    <section id="get-quotation-form" class="hidden">
        <h2>New Service Request</h2>
        <form id="getQuotationForm">


            <label for="deviceType">Device Type:</label>
            <select id="deviceType" name="deviceType" required>
                <option value="" disabled selected>Select a device type</option>
            </select>

            <label for="deviceModel">Device Model:</label>
            <select id="deviceModel" name="deviceModel" required>
                <option value="" disabled selected>Select a device model</option>
            </select>

            <label for="repairType">Repair Type:</label>
            <select id="repairType" name="repairType" required>
                <option value="" disabled selected>Select a repair type</option>
            </select>

            <button type="submit">Get Quotation</button>
        </form>
    </section>

    <section id="quotation-display" class="hidden">
        <h2>Quotation Details</h2>
        <table>
            <tr>
                <th>Device Type</th>
                <td id="quote-deviceType"></td>
            </tr>
            <tr>
                <th>Device Model</th>
                <td id="quote-deviceModel"></td>
            </tr>
            <tr>
                <th>Repair Name</th>
                <td id="quote-repairName"></td>
            </tr>
            <tr>
                <th>Defective Parts</th>
                <td id="quote-defectiveParts"></td>
            </tr>
            <tr>
                <th>Price</th>
                <td id="quote-price"></td>
            </tr>
            <tr>
                <th>Estimated Time in Hours</th>
                <td id="quote-estimatedTime"></td>
            </tr>
        </table>

        <label for="storeSelect">Select Store:</label>
        <select id="storeSelect" name="storeSelect" required>
            <option value="" disabled selected>Select a Store</option>
        </select>

        <button id="checkoutButton">Check Out</button>
    </section>

    <section id="in-progress-requests">
        <h2>In-Progress Service Requests</h2>
        <table>
            <thead>
                <tr>
                    <th>Device</th>
                    <th>Repair Type</th>
                    <th>Price</th>
                    <th>Order Id</th>
                    <th>Date Created</th>
                    <th>Delivery/Completion Date</th>
                    <th>Status Message</th>
                    <th>Store Contact</th>

                </tr>
            </thead>
            <tbody id="in-progress-body">
                {{#each inProgressServiceRequests}}
                <tr class="in-progress">
                    <td>{{device}}</td>
                    <td>{{repairType}}</td>
                    <td>${{price}}</td>
                    <td>{{orderId}}</td>
                    <td>{{dateCreated}}</td>
                    <td>{{deliveryDate}}</td>
                    <td>{{statusMessage}}</td>
                    <td>{{storeContact}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <div id="in-progress-pagination-controls">
            <button id="prevInProgressPage" onclick="navigatePage('in-progress', -1)">Previous</button>
            <span id="in-progress-page-info">Page 1</span>
            <button id="nextInProgressPage" onclick="navigatePage('in-progress', 1)">Next</button>
        </div>
    </section>
    <section id="completed-requests">
        <h2>Completed Service Requests</h2>
        <table>
            <thead>
                <tr>
                    <th>Device</th>
                    <th>Repair Type</th>
                    <th>Price</th>
                    <th>Order Id</th>
                    <th>Date Created</th>
                    <th>Delivery/Completion Date</th>
                    <th>Status Message</th>
                    <th>Store Contact</th>

                </tr>
            </thead>
            <tbody id="completed-body">
                {{#each completedServiceRequests}}
                <tr class="completed">
                    <td>{{device}}</td>
                    <td>{{repairType}}</td>
                    <td>${{price}}</td>
                    <td>{{orderId}}</td>
                    <td>{{dateCreated}}</td>
                    <td>{{deliveryDate}}</td>
                    <td>{{statusMessage}}</td>
                    <td>{{storeContact}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <div id="completed-pagination-controls">
            <button id="prevCompletedPage" onclick="navigatePage('completed', -1)">Previous</button>
            <span id="completed-page-info">Page 1</span>
            <button id="nextCompletedPage" onclick="navigatePage('completed', 1)">Next</button>
        </div>
    </section>

</main>

<script type="module" src="/public/js/customer-dashboard.js"></script>